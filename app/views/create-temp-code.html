{% extends "govuk-prototype-kit/layouts/govuk-branded.html" %}

{% block pageTitle %}
  Create temporary identity code â€“ GOV.UK One Login
{% endblock %}

{% block header %}
  {{ govukHeader({
    homepageUrl: "/",
    serviceName: "GOV.UK One Login",
    serviceUrl: "/digital-id-home",
    navigation: [
      {
        href: "/digital-id-home",
        text: "Home"
      },
      {
        href: "#",
        text: "Settings"
      },
      {
        href: "#",
        text: "Sign out"
      }
    ]
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">
        Create temporary identity code
      </h1>

      <p class="govuk-body">
        Generate a secure, temporary code that allows a third party to verify your identity without sharing your personal details permanently.
      </p>

      <form action="/temp-code-success" method="post" novalidate>
        
        <!-- Check Type with Autocomplete -->
        <div class="govuk-form-group">
          <label class="govuk-label govuk-label--m" for="check-type">
            What type of check is this for?
          </label>
          <div class="govuk-hint">
            Start typing to see suggestions
          </div>
          <input class="govuk-input govuk-input--width-30" id="check-type" name="check-type" type="text" autocomplete="off">
          
          <!-- Hidden select for data -->
          <datalist id="check-types">
            <!-- Employment & Immigration -->
            <option value="Right-to-Work">
            <option value="Visa Validity">
            
            <!-- Civic & Welfare -->
            <option value="Benefit Eligibility">
            <option value="Veteran Status">
            
            <!-- Transport & Licensing -->
            <option value="Driving Eligibility">
            <option value="Vehicle Ownership">
            
            <!-- Property & Residence -->
            <option value="Address Confirmation">
            <option value="Property Ownership">
            
            <!-- Health & Education -->
            <option value="Works in NHS">
            <option value="Is a Student">
            
            <!-- Business Representation -->
            <option value="Director">
            <option value="Authorised Officer">
            
            <!-- Age & Access Control -->
            <option value="Over 18">
            <option value="Under 18">
            <option value="Under-18 Oyster">
            
            <!-- Criminality & Safeguarding -->
            <option value="DBS clearance">
            <option value="Care-worker clearance">
          </datalist>
        </div>

        <!-- Record Check -->
        <div class="govuk-form-group">
          <fieldset class="govuk-fieldset">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              Should this check be recorded?
            </legend>
            <div class="govuk-hint">
              Recording the check helps you track who has verified your identity
            </div>
            <div class="govuk-radios" data-module="govuk-radios">
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="record-yes" name="record-check" type="radio" value="yes" checked>
                <label class="govuk-label govuk-radios__label" for="record-yes">
                  Yes, record this check
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="record-no" name="record-check" type="radio" value="no">
                <label class="govuk-label govuk-radios__label" for="record-no">
                  No, do not record this check
                </label>
              </div>
            </div>
          </fieldset>
        </div>

        <!-- Data to Return -->
        <div class="govuk-form-group">
          <fieldset class="govuk-fieldset">
            <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
              What data should be returned?
            </legend>
            <div class="govuk-hint">
              Choose how much information the third party will receive
            </div>
            <div class="govuk-radios" data-module="govuk-radios">
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="data-none" name="data-return" type="radio" value="none">
                <label class="govuk-label govuk-radios__label" for="data-none">
                  None (verification only)
                </label>
                <div class="govuk-hint govuk-radios__hint">
                  Confirms identity without sharing any personal details
                </div>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="data-photo" name="data-return" type="radio" value="photo">
                <label class="govuk-label govuk-radios__label" for="data-photo">
                  Photo only
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="data-photo-name" name="data-return" type="radio" value="photo-name" checked>
                <label class="govuk-label govuk-radios__label" for="data-photo-name">
                  Photo and full name
                </label>
              </div>
              <div class="govuk-radios__item">
                <input class="govuk-radios__input" id="data-full" name="data-return" type="radio" value="full">
                <label class="govuk-label govuk-radios__label" for="data-full">
                  Photo, full name, date of birth and nationality
                </label>
              </div>
            </div>
          </fieldset>
        </div>

        <div class="govuk-warning-text">
          <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
          <strong class="govuk-warning-text__text">
            <span class="govuk-visually-hidden">Warning</span>
            This code will expire after 1 hour or after one use
          </strong>
        </div>

        <button class="govuk-button" data-module="govuk-button">
          Create temporary code
        </button>

        <p class="govuk-body">
          <a href="/digital-id-home" class="govuk-link">Cancel</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    // Simple typeahead functionality
    (function() {
      var input = document.getElementById('check-type');
      var datalist = document.getElementById('check-types');
      
      if (input && datalist) {
        input.setAttribute('list', 'check-types');
        
        // Add some visual feedback
        input.addEventListener('input', function() {
          if (this.value.length > 0) {
            this.style.borderColor = '#1d70b8';
            this.style.borderWidth = '2px';
          } else {
            this.style.borderColor = '';
            this.style.borderWidth = '';
          }
        });
      }
    })();
  </script>
{% endblock %}

